<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>QuestWeaver: weave::QuestWeaver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QuestWeaver
   </div>
   <div id="projectbrief">A procedural quest generator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classweave_1_1_quest_weaver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classweave_1_1_quest_weaver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">weave::QuestWeaver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Main entry point</b> for applications using the quest system.  
 <a href="classweave_1_1_quest_weaver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_quest_weaver_8h_source.html">QuestWeaver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2ecd33ee303dbd551908caea85fad23f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a2ecd33ee303dbd551908caea85fad23f">QuestWeaver</a> (<a class="el" href="structweave_1_1_weaver_config.html">WeaverConfig</a> config)</td></tr>
<tr class="memdesc:a2ecd33ee303dbd551908caea85fad23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new weaver instance with the given config.  <a href="#a2ecd33ee303dbd551908caea85fad23f">More...</a><br /></td></tr>
<tr class="separator:a2ecd33ee303dbd551908caea85fad23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d87f0b4aa25a8c084b7089e76f5aca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#ab9d87f0b4aa25a8c084b7089e76f5aca">RegisterQuestTemplateFactory</a> (std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest_template_factory.html">QuestTemplateFactory</a> &gt; factory)</td></tr>
<tr class="memdesc:ab9d87f0b4aa25a8c084b7089e76f5aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new quest template factory with the quest system.  <a href="#ab9d87f0b4aa25a8c084b7089e76f5aca">More...</a><br /></td></tr>
<tr class="separator:ab9d87f0b4aa25a8c084b7089e76f5aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407384e8ea452e36447742893f96392f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a407384e8ea452e36447742893f96392f">RegisterStoryTemplateFactory</a> (std::shared_ptr&lt; <a class="el" href="classweave_1_1_story_template_factory.html">StoryTemplateFactory</a> &gt; factory)</td></tr>
<tr class="memdesc:a407384e8ea452e36447742893f96392f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new story template factory with the quest system.  <a href="#a407384e8ea452e36447742893f96392f">More...</a><br /></td></tr>
<tr class="separator:a407384e8ea452e36447742893f96392f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01debc9fab30def40cf00fc41a303fe5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01debc9fab30def40cf00fc41a303fe5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a01debc9fab30def40cf00fc41a303fe5">ChangeWorkingDirectories</a> (<a class="el" href="structweave_1_1_directories.html">Directories</a> directories)</td></tr>
<tr class="memdesc:a01debc9fab30def40cf00fc41a303fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the directories used by the quest system to load files such as templates. <br /></td></tr>
<tr class="separator:a01debc9fab30def40cf00fc41a303fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cc3f1ed3b13738547b298ad4f6856a"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest.html">Quest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#ab4cc3f1ed3b13738547b298ad4f6856a">CreateNewQuest</a> ()</td></tr>
<tr class="memdesc:ab4cc3f1ed3b13738547b298ad4f6856a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new quest.  <a href="#ab4cc3f1ed3b13738547b298ad4f6856a">More...</a><br /></td></tr>
<tr class="separator:ab4cc3f1ed3b13738547b298ad4f6856a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa775638812718cc59edd6debbc32d70e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#aa775638812718cc59edd6debbc32d70e">Tick</a> (float delta)</td></tr>
<tr class="memdesc:aa775638812718cc59edd6debbc32d70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances the quest system state by ticking all quests and executing their desired world and quest changes.  <a href="#aa775638812718cc59edd6debbc32d70e">More...</a><br /></td></tr>
<tr class="separator:aa775638812718cc59edd6debbc32d70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1260b729344e6e3bfe0a7911665ff8af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1260b729344e6e3bfe0a7911665ff8af"></a>
std::vector&lt; std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest.html">Quest</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a1260b729344e6e3bfe0a7911665ff8af">GetQuestsWithState</a> (QuestState state) const </td></tr>
<tr class="memdesc:a1260b729344e6e3bfe0a7911665ff8af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of all quests with the given state. <br /></td></tr>
<tr class="separator:a1260b729344e6e3bfe0a7911665ff8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae039124d0b281e8d5722282271e516c1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae039124d0b281e8d5722282271e516c1"></a>
std::vector&lt; std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest.html">Quest</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#ae039124d0b281e8d5722282271e516c1">GetAllQuests</a> () const </td></tr>
<tr class="memdesc:ae039124d0b281e8d5722282271e516c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of all quests. <br /></td></tr>
<tr class="separator:ae039124d0b281e8d5722282271e516c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac03a367e700dd770d3c6f6cde28f3b4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac03a367e700dd770d3c6f6cde28f3b4a"></a>
std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest.html">Quest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#ac03a367e700dd770d3c6f6cde28f3b4a">GetQuest</a> (ID questId) const </td></tr>
<tr class="memdesc:ac03a367e700dd770d3c6f6cde28f3b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the quest with the given ID. <br /></td></tr>
<tr class="separator:ac03a367e700dd770d3c6f6cde28f3b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffcc98dce651a568f8b946640936a57"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest.html">Quest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a6ffcc98dce651a568f8b946640936a57">ChangeQuestState</a> (<a class="el" href="classweave_1_1_quest_model_action.html">QuestModelAction</a> questAction)</td></tr>
<tr class="memdesc:a6ffcc98dce651a568f8b946640936a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directly changes the state of a quest.  <a href="#a6ffcc98dce651a568f8b946640936a57">More...</a><br /></td></tr>
<tr class="separator:a6ffcc98dce651a568f8b946640936a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66bd94d2b1c3851d3fd52db1945f9cd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classweave_1_1_world_model.html">WorldModel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#ab66bd94d2b1c3851d3fd52db1945f9cd">GetWorldModel</a> () const </td></tr>
<tr class="memdesc:ab66bd94d2b1c3851d3fd52db1945f9cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a immutable reference to the world model.  <a href="#ab66bd94d2b1c3851d3fd52db1945f9cd">More...</a><br /></td></tr>
<tr class="separator:ab66bd94d2b1c3851d3fd52db1945f9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4faa60c735a47c941bf42d0948e026f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#af4faa60c735a47c941bf42d0948e026f">Serialize</a> (std::ostream &amp;outputStream, StreamType type)</td></tr>
<tr class="memdesc:af4faa60c735a47c941bf42d0948e026f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes the whole quest system including the quest model and world model.  <a href="#af4faa60c735a47c941bf42d0948e026f">More...</a><br /></td></tr>
<tr class="separator:af4faa60c735a47c941bf42d0948e026f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adc3136568dcad0bd9bb616d60b53f482"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classweave_1_1_quest_weaver.html">QuestWeaver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#adc3136568dcad0bd9bb616d60b53f482">Deserialize</a> (std::istream &amp;inputStream, StreamType type)</td></tr>
<tr class="memdesc:adc3136568dcad0bd9bb616d60b53f482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the quest system including the quest model and world model.  <a href="#adc3136568dcad0bd9bb616d60b53f482">More...</a><br /></td></tr>
<tr class="separator:adc3136568dcad0bd9bb616d60b53f482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad46368163fad6141f8a74537e39d1c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classweave_1_1_quest_weaver.html">QuestWeaver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classweave_1_1_quest_weaver.html#a1ad46368163fad6141f8a74537e39d1c">Deserialize</a> (std::istream &amp;inputStream, StreamType type, <a class="el" href="structweave_1_1_directories.html">Directories</a> currentDirectories)</td></tr>
<tr class="memdesc:a1ad46368163fad6141f8a74537e39d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the quest system including the quest model and world model.  <a href="#a1ad46368163fad6141f8a74537e39d1c">More...</a><br /></td></tr>
<tr class="separator:a1ad46368163fad6141f8a74537e39d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab2f44cbb59a08132f4c843e5225bba0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2f44cbb59a08132f4c843e5225bba0e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>cereal::access</b></td></tr>
<tr class="separator:ab2f44cbb59a08132f4c843e5225bba0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>Main entry point</b> for applications using the quest system. </p>
<p>This class represents a complete quest system and is the main entry point for an application to create and manage quests. To be usable, the caller has to provide a world model and matching template factories from which the quest weaver will generate new and interesting quest.</p>
<p>Instances of this class are not thread safe. </p>

<p>Definition at line <a class="el" href="_quest_weaver_8h_source.html#l00029">29</a> of file <a class="el" href="_quest_weaver_8h_source.html">QuestWeaver.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2ecd33ee303dbd551908caea85fad23f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">weave::QuestWeaver::QuestWeaver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structweave_1_1_weaver_config.html">WeaverConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new weaver instance with the given config. </p>
<p>The config needs to contain a valid world model pointer. The quest weaver instance will take ownership of the world model and delete it when being destroyed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>the config to use - must contain a valid world model </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6ffcc98dce651a568f8b946640936a57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classweave_1_1_quest.html">Quest</a>&gt; weave::QuestWeaver::ChangeQuestState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classweave_1_1_quest_model_action.html">QuestModelAction</a>&#160;</td>
          <td class="paramname"><em>questAction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directly changes the state of a quest. </p>
<p>A quest can usually change its state once it is ticked, this method should only be used if that is not possible. </p>

</div>
</div>
<a class="anchor" id="ab4cc3f1ed3b13738547b298ad4f6856a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classweave_1_1_quest.html">Quest</a>&gt; weave::QuestWeaver::CreateNewQuest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new quest. </p>
<p>This node does not have any input because it is the responsibility of the quest weaver to decide which quest should be next. The previously registered template factories and the world model are used to create the quest.</p>
<p>Once a quest is created, it is active in the world (and most likely already changed it). The caller of this API cannot decide to undo that or delete the quest, it can only change the state to a "completed" type. </p>

</div>
</div>
<a class="anchor" id="adc3136568dcad0bd9bb616d60b53f482"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classweave_1_1_quest_weaver.html">QuestWeaver</a> weave::QuestWeaver::Deserialize </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>inputStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StreamType&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deserializes the quest system including the quest model and world model. </p>
<p>Please note that the template factories and the world model listeners must be registered again as they are not serialized. In addition, the current working directory info must be updated or the default is used.</p>
<p>The StreamType parameter must be the same as the one used to serialize the data. </p>

</div>
</div>
<a class="anchor" id="a1ad46368163fad6141f8a74537e39d1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classweave_1_1_quest_weaver.html">QuestWeaver</a> weave::QuestWeaver::Deserialize </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>inputStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StreamType&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structweave_1_1_directories.html">Directories</a>&#160;</td>
          <td class="paramname"><em>currentDirectories</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deserializes the quest system including the quest model and world model. </p>
<p>Please note that the template factories and the world model listeners must be registered again as they are not serialized.</p>
<p>The StreamType parameter must be the same as the one used to serialize the data. </p>

</div>
</div>
<a class="anchor" id="ab66bd94d2b1c3851d3fd52db1945f9cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classweave_1_1_world_model.html">WorldModel</a>&amp; weave::QuestWeaver::GetWorldModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a immutable reference to the world model. </p>
<p>To change the world model, use the <a class="el" href="classweave_1_1_quest_weaver.html#aa775638812718cc59edd6debbc32d70e" title="Advances the quest system state by ticking all quests and executing their desired world and quest cha...">Tick()</a> method which gathers changes from the quests.</p>
<p>After the quest system was deserialized, the world model listener has to be registered again. </p>

</div>
</div>
<a class="anchor" id="ab9d87f0b4aa25a8c084b7089e76f5aca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weave::QuestWeaver::RegisterQuestTemplateFactory </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classweave_1_1_quest_template_factory.html">QuestTemplateFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>factory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new quest template factory with the quest system. </p>
<p>Usually, the factories are already registered when creating an instance using the <a class="el" href="structweave_1_1_weaver_config.html">WeaverConfig</a> parameter. However, this is not true when creating a new instance by deserialization. This method <em>MUST</em> be used on newly deserialized objects, otherwise it is impossible to create new quests </p>

</div>
</div>
<a class="anchor" id="a407384e8ea452e36447742893f96392f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weave::QuestWeaver::RegisterStoryTemplateFactory </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classweave_1_1_story_template_factory.html">StoryTemplateFactory</a> &gt;&#160;</td>
          <td class="paramname"><em>factory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a new story template factory with the quest system. </p>
<p>Usually, the factories are already registered when creating an instance using the <a class="el" href="structweave_1_1_weaver_config.html">WeaverConfig</a> parameter. However, this is not true when creating a new instance by deserialization. This method <em>MUST</em> be used on newly deserialized objects, otherwise new quests will be created without backstories. </p>

</div>
</div>
<a class="anchor" id="af4faa60c735a47c941bf42d0948e026f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weave::QuestWeaver::Serialize </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>outputStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StreamType&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes the whole quest system including the quest model and world model. </p>
<p>Please note that upon deserialization, the template factories and the world model listeners must be registered again as they are not serialized. The data is serialized in a portable way, so no extra steps must be taken to serialize and deserialize on different platforms. </p>

</div>
</div>
<a class="anchor" id="aa775638812718cc59edd6debbc32d70e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void weave::QuestWeaver::Tick </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances the quest system state by ticking all quests and executing their desired world and quest changes. </p>
<p>Until this method is called, quests are unable to change the world model or their state.</p>
<p><b>WARNING</b> After ticking, all objects received via this API might be invalid! They can still be used, but might contain outdated data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delta</td><td>The time elapsed since the last tick. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="_quest_weaver_8h_source.html">QuestWeaver.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>weave</b></li><li class="navelem"><a class="el" href="classweave_1_1_quest_weaver.html">QuestWeaver</a></li>
    <li class="footer">Generated on Thu Feb 11 2016 20:27:08 for QuestWeaver by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
